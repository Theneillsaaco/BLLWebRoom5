---
import { getCollection, type CollectionEntry } from "astro:content";
import BlogPostCard from "./BlogPostCard.astro";

const posts: CollectionEntry<"blogs">[] = (await getCollection("blogs"))
    .sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime())
    .slice(0, 4);
---

<section class="py-20 container mx-auto px-6">
    <h2 class="text-3xl font-bold text-center mb-12">Últimas noticias</h2>
    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
        {posts.map(post => (
                <BlogPostCard post={post} />
        ))}
    </div>
    <div class="text-center mt-8">
        <a href="/BLLWebRoom5/blog" class="text-primary-600 font-semibold">Ver todas las noticias →</a>
    </div>
</section>
